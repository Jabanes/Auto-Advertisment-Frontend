- name: Checkout repo
  uses: actions/checkout@v4

- name: Setup Node.js
  uses: actions/setup-node@v4
  with:
    node-version: 22
    cache: 'npm'

- name: Install dependencies
  run: npm ci

- name: Create .env file from secret
  run: echo "${{ secrets.ENV_FILE }}" > .env

- name: Build project
  env:
    NODE_ENV: production
  run: npm run build
